<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:adm="http://github.com/adminfaces"
	template="/WEB-INF/templates/templateLogin.xhtml">
 	
<ui:define name="title">
    <h:outputText value="#{msgs['title.home']}" />
</ui:define>

<ui:define name="description">
    <h:outputText value="#{msgs['title.home.description']}" />
</ui:define>

	<ui:define name="body">
		<div class="card">
			<h:form>
				<p:gmap center="4.56 , 50.3268092386" zoom="15" type="ROADMAP"  style="width:600px;height:400px" />
				<h:messages id="msgerro"></h:messages>
			</h:form>
		</div>
		<h:form id="form-maps">

		</h:form>
	<h:form id="form-newTransaction">
		<div class="card">
				<p:outputPanel id="create-transaction-content" class="ui-fluid">
            			<div class="p-field">
	                        <p:outputLabel for="emitterNameNew" value="#{msgs['text.newTransaction.emitter']}" />
	                        <p:inputText id="emitterNameNew" value="#{transactionController.selectedTransaction.emitter.name}" readonly="true"/>
	                    </div>
	                    <div class="p-field p-col-12 p-md-4">
                			<p:outputLabel for="receiverSelection" value="#{msgs['text.newTransaction.emitterSel']}"/>
							<p:selectOneMenu id="receiverSelection"
									value="#{transactionController.selectedEmiter}"
									converter="omnifaces.SelectItemsConverter">
									<p:ajax event="change" process="@this" />
									<f:selectItems value="#{transactionController.availabeReceivers}"
												var="emitterSelected" itemLabel="#{emitterSelected.name}"
												itemValue="#{emitterSelected}"></f:selectItems>
							</p:selectOneMenu>	
            			</div>
	                    <div class="p-field">
	                        <p:outputLabel for="transacMaxValueNew" value="#{msgs['text.newTransaction.maxvalue']}" />
	                        	<p:inputNumber id="transacMaxValueNew" symbol="#{msgs['text.currencySymbol']}" 
												value="#{transactionController.selectedTransaction.wallet.balance}" symbolPosition="p" 
												decimalSeparator="," thousandSeparator="." readonly="true"/>
	                        <!--  <p:inputText id="transacMaxValueNew" value="#{transactionController.selectedTransaction.wallet.balance}" readonly="true"/> -->
	                    </div>
						<div class="p-field">
	                        <p:outputLabel for="transacValueNew" value="#{msgs['text.newTransaction.value']}" />
	                        <p:inputText id="transacValueNew" value="#{transactionController.selectedTransaction.value}"  required="true"/>
	                    </div>
						<div class="p-field">
	                        <p:outputLabel for="transacMsgNew" value="#{msgs['text.newTransaction.msg']}" />
	                        <p:inputText id="transacMsgNew" value="#{transactionController.selectedTransaction.message}"  required="true"/>
	                    </div>
            	</p:outputPanel>
            	
                <p:commandButton value="#{msgs['text.newTransaction.create']}"  icon="pi pi-check" 
                						actionListener="#{transactionController.createTransaction}"
                						update="@form"/>
                						
                <p:commandButton value="#{msgs['text.newTransaction.cancel']}"  icon="pi pi-times" 
                				 action="#{transactionController.redirectsHome}"
                                 class="ui-button-secondary"/>
                                 
				<p:messages id="messages" showDetail="true">
					<p:autoUpdate />
				</p:messages>		
			</div>
		</h:form>
	</ui:define>
	
	<ui:define name="footer">
		<p><h:outputText value="#{msgs['text.home.about02']}" escape="false" /></p>
		<h:outputText value="#{msgs['text.developedBy']}" escape="false" />
		<div class="pull-right hidden-xs" style="color: gray">
			<i>1.0.0</i>
		</div>
</ui:define>
</ui:composition>

